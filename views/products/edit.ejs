<!DOCTYPE html>
<html lang="en">
    <head>
        <%- include("../partials/head") %>
        <link rel="stylesheet" href="/stylesheets/create.css">
        <script src="/script/productsFront.js"></script>
    </head>
<body>
    <%- include("../partials/header", {data : 0}) %>
        <div>    
            
        <form action="/products/<%= product.id %>?_method=PUT" method="post" enctype="multipart/form-data">
            <h1>Editar Producto</h1>
            <div>
                <p><label for="">NOMBRE</label></p>
                <input id="name" class="ingreso" type="text" name="name" value="<%= product.name %>">
            </div>
            <div>
               <p><label for="">Categoría</label></p>
                <select class="ingreso" name="category">
                    <option value="elegir">Elegir Categoría</option>
                    <% categories.forEach(category => { %>
                        <option value=<%= category.id %> <%= product.category_id == category.id ? 'selected' : '' %>><%= category.name %></option>
                    <% }) %> 
                </select>
            </div> 
            <div>
                <p><label for="">Precio</label></p>
                <input class="ingreso" type="text" name="price" value="<%= product.price %>">
            </div>
            <div>
                <p><label for="">Stock</label></p>
                <input class="ingreso" type="text" name="stock" value="<%= product.stock %>">
            </div>
            <div>
                <p><label for="">Estilo</label></p> 
                <% styles.forEach( style =>{ %>
                    <% let checked = "" %> 
                    <% product.style.forEach(estilo => {%>
                        <% if(estilo.id == style.id) { checked = "checked"}%>
                   <% }) %> 
                    <input name="style" type="checkbox" value=<%= style.id %> <%= checked %>> <%= style.name%></input> 
                <% }) %>             
            </div>
            <div>
                <p><label for="">Color</label></p> 
                <% colors.forEach( color =>{ %>
                    <% let checked = "" %> 
                    <% product.colores.forEach(colour => {%>
                        <% if(colour.id == color.id) { checked = "checked"}%>
                   <% }) %> 
                    <input name="color" type="checkbox" value=<%= color.id %> <%= checked %>> <%= color.name%></input> 
                <% }) %>             
            </div>
            
            

            <div>
            <p><label for="">Descripción</label></p>
            <textarea id="description" class="ingreso" name="description" cols="30" rows="10" value="<%= product.description %>"></textarea>
            </div>

            <div>
            <p><label for="">Imagen del Producto</label></p>
            <div class="image-edit">
                <img class="img-edit" src="/images/<%= product.img %>" alt="imagenproducto">
            </div>
            <input class="ingreso" type="file" name="photo">    
            </div>

            <div>    
            <p><button class="enviar" type="submit">Cargar Producto</button></p>
            <p><button class="reset" type="reset">Resetear Página</button></p>
            </div>



        </form>
        </div>
       

        <%- include("../partials/footer") %>
</body>
</html>